
/* =========================================
   Cosmic Background System (route & section)
   - Crossfades gradients between "skins"
   - Professional cosmic dark aesthetic
   - Non-interfering, GPU-friendly
   ========================================= */
:root {
  --ink: #EEF0FF;
  --muted: #CBD0DD;
  --violet: #8B6EF6;
  --magenta: #FF66C4;
  --cyan: #6AA8FF;
  --green: #58F07A;
}

/* Make sure the app itself is transparent so the background shows through */
html, body, #root { height: 100%; }
body { background: transparent; color: var(--ink); }

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
  .cosmic-bg__layer,
  .cosmic-stars,
  .cosmic-aurora { animation: none !important; transition: none !important; }
}

/* --- Fixed background mount --- */
.cosmic-bg {
  position: fixed;
  inset: 0;
  z-index: -1;
  pointer-events: none;
  overflow: hidden;
  contain: layout paint;
}

/* Two crossfading layers */
.cosmic-bg__layer {
  position: absolute;
  inset: 0;
  opacity: 0;
  transition: opacity 600ms ease;
  will-change: opacity, transform;
  filter: saturate(1.05);
  background-size: cover;
  background-position: center;
  background-attachment: scroll;
}

/* Stars layer (subtle, dynamic) */
.cosmic-stars { 
  position: absolute; inset: -10% -10% -10% -10%;
  pointer-events: none;
  opacity: .45;
  animation: twinkle 10s linear infinite;
  background-image:
    radial-gradient(2px 2px at 20% 30%, rgba(255,255,255,.8), rgba(255,255,255,0) 60%),
    radial-gradient(1.5px 1.5px at 60% 70%, rgba(255,255,255,.7), rgba(255,255,255,0) 60%),
    radial-gradient(1.2px 1.2px at 80% 20%, rgba(255,255,255,.6), rgba(255,255,255,0) 60%),
    radial-gradient(1.6px 1.6px at 35% 80%, rgba(255,255,255,.75), rgba(255,255,255,0) 60%);
  background-repeat: repeat;
  background-size: 700px 700px, 900px 900px, 800px 800px, 1000px 1000px;
}

/* Soft moving aurora haze */
.cosmic-aurora {
  position: absolute; inset: -20% -20% -20% -20%;
  mix-blend-mode: screen;
  filter: blur(48px) saturate(110%);
  opacity: .35;
  animation: drift 48s ease-in-out infinite alternate;
  background-image:
    radial-gradient(50% 35% at 20% 25%, rgba(139,110,246,.18), transparent 70%),
    radial-gradient(45% 30% at 78% 30%, rgba(106,168,255,.16), transparent 70%),
    radial-gradient(35% 30% at 45% 80%, rgba(255,102,196,.12), transparent 70%);
  background-repeat: no-repeat;
}

/* Active layer flag (set by React) */
.cosmic-bg__layer.is-active { opacity: 1; }

/* ============ SKINS (per route/section) ============ */
/* Shared base: deep space gradient */
.bg-skin--base {
  background-image:
    linear-gradient(180deg, #0B0114 0%, #141824 100%);
}

/* Home: violet→cyan glows */
.bg-skin--home {
  background-image:
    radial-gradient(60% 40% at 20% 20%, rgba(139,110,246,.22), transparent 70%),
    radial-gradient(50% 30% at 70% 30%, rgba(106,168,255,.18), transparent 70%),
    radial-gradient(40% 28% at 40% 80%, rgba(255,102,196,.12), transparent 70%),
    linear-gradient(180deg, #0B0114 0%, #141824 100%);
}

/* About: cyan→violet */
.bg-skin--about {
  background-image:
    radial-gradient(60% 35% at 18% 25%, rgba(106,168,255,.22), transparent 70%),
    radial-gradient(45% 30% at 75% 35%, rgba(139,110,246,.20), transparent 70%),
    radial-gradient(40% 25% at 45% 78%, rgba(255,102,196,.10), transparent 70%),
    linear-gradient(180deg, #0B0114 0%, #141824 100%);
}

/* Contact: magenta→violet */
.bg-skin--contact {
  background-image:
    radial-gradient(55% 35% at 22% 25%, rgba(255,102,196,.22), transparent 70%),
    radial-gradient(45% 30% at 76% 30%, rgba(139,110,246,.18), transparent 70%),
    radial-gradient(35% 28% at 50% 82%, rgba(106,168,255,.12), transparent 70%),
    linear-gradient(180deg, #0B0114 0%, #141824 100%);
}

/* Plans: cyan→green accents */
.bg-skin--plans {
  background-image:
    radial-gradient(55% 35% at 25% 25%, rgba(106,168,255,.22), transparent 70%),
    radial-gradient(45% 30% at 78% 28%, rgba(88,240,122,.14), transparent 70%),
    radial-gradient(40% 30% at 45% 80%, rgba(139,110,246,.12), transparent 70%),
    linear-gradient(180deg, #0B0114 0%, #141824 100%);
}

/* Auth: dimmer, professional */
.bg-skin--auth {
  background-image:
    radial-gradient(50% 30% at 22% 24%, rgba(139,110,246,.16), transparent 70%),
    radial-gradient(45% 28% at 78% 32%, rgba(106,168,255,.14), transparent 70%),
    linear-gradient(180deg, #0A0B16 0%, #121622 100%);
}

/* App / Tool: focused, cooler */
.bg-skin--app {
  background-image:
    radial-gradient(50% 28% at 20% 20%, rgba(106,168,255,.18), transparent 70%),
    radial-gradient(45% 28% at 76% 28%, rgba(139,110,246,.16), transparent 70%),
    linear-gradient(180deg, #090B15 0%, #121622 100%);
}

/* Legal pages keep it minimal */
.bg-skin--privacy, .bg-skin--terms, .bg-skin--default { 
  composes: bg-skin--base;
}

/* --- Subtle animations --- */
@keyframes twinkle {
  0% { opacity:.35; transform: translate3d(0,0,0) scale(1); }
  50% { opacity:.50; transform: translate3d(0,-0.5%,0) scale(1.01); }
  100% { opacity:.35; transform: translate3d(0,0,0) scale(1); }
}
@keyframes drift {
  0% { transform: translate3d(-1%, -2%, 0) scale(1.02); }
  100% { transform: translate3d(1%, 2%, 0) scale(1.02); }
}

/* Optional: glass UI helpers */
.glass {
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.14);
  box-shadow: 0 10px 30px rgba(0,0,0,.35);
  backdrop-filter: blur(12px);
  border-radius: 16px;
}
.btn-gradient {
  display:inline-flex; align-items:center; justify-content:center;
  padding: 10px 16px; border-radius: 999px; font-weight: 600;
  background-image: linear-gradient(135deg, var(--magenta), var(--violet), var(--cyan));
  color: #0b0114; border: none; text-decoration: none;
}
.btn-gradient:focus-visible { outline: 2px solid rgba(139,110,246,.6); outline-offset: 2px; }


/* Facilities: darker, professional variant */
.bg-skin--facilities {
  background-image:
    radial-gradient(52% 32% at 22% 24%, rgba(88, 121, 175, .10), transparent 70%),
    radial-gradient(45% 28% at 76% 28%, rgba(91, 74, 160, .12), transparent 70%),
    linear-gradient(180deg, #060814 0%, #0F1320 100%);
  /* slightly lower overall glow */
  filter: saturate(1.0) brightness(0.96);
}


/* Performance-aware tweaks */
html.perf-low .cosmic-stars {
  animation: none !important;
  opacity: 0.25 !important;
}
html.perf-low .cosmic-bg__layer {
  transition-duration: 300ms !important;
}

@media (hover:hover) and (min-width: 900px) {
  html:not(.perf-low) .cosmic-bg__layer {
    background-attachment: fixed;
  }
}
